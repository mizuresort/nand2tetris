# Nand2Tetris

コンピュータシステムの理論と実装のリポジトリ。<br>
絶対苦労します。

# 目次

<!-- TOC -->

- [Nand2Tetris](#nand2tetris)
- [目次](#%E7%9B%AE%E6%AC%A1)
  - [初歩的なまとめ](#%E5%88%9D%E6%AD%A9%E7%9A%84%E3%81%AA%E3%81%BE%E3%81%A8%E3%82%81)
    - [ChatGPT に自分のまとめを投げたら綺麗にまとめてくれた](#chatgpt-%E3%81%AB%E8%87%AA%E5%88%86%E3%81%AE%E3%81%BE%E3%81%A8%E3%82%81%E3%82%92%E6%8A%95%E3%81%92%E3%81%9F%E3%82%89%E7%B6%BA%E9%BA%97%E3%81%AB%E3%81%BE%E3%81%A8%E3%82%81%E3%81%A6%E3%81%8F%E3%82%8C%E3%81%9F)
  - [まとめ文](#%E3%81%BE%E3%81%A8%E3%82%81%E6%96%87)
  - [論理ゲートの選択ができない！](#%E8%AB%96%E7%90%86%E3%82%B2%E3%83%BC%E3%83%88%E3%81%AE%E9%81%B8%E6%8A%9E%E3%81%8C%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84)
    - [現段階の手順](#%E7%8F%BE%E6%AE%B5%E9%9A%8E%E3%81%AE%E6%89%8B%E9%A0%86)
    - [迷わないためのチェックリスト](#%E8%BF%B7%E3%82%8F%E3%81%AA%E3%81%84%E3%81%9F%E3%82%81%E3%81%AE%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF%E3%83%AA%E3%82%B9%E3%83%88)
  - [アドバイス](#%E3%82%A2%E3%83%89%E3%83%90%E3%82%A4%E3%82%B9)
  - [虎の巻](#%E8%99%8E%E3%81%AE%E5%B7%BB)

<!-- /TOC -->

## 初歩的なまとめ

- 中間の出力ピンの名前（任意）は先頭が数字ではいけない。
- どこでも入力ピンは勝手に名前(nota とか)をつけてはいけない

### ChatGPT に自分のまとめを投げたら綺麗にまとめてくれた

**入力ピン（IN で宣言されたもの）**
例：a, b<br>
チップ仕様として最初から存在する。
勝手に新しい名前（nota とか in1）を作って使うことはできない。<br>
**_もし「nota」が欲しければ、NOT ゲートで中間出力を作って、それを使う_**。

**出力ピン（OUT で宣言されたもの）**
例：out<br>
これも仕様として最初から存在する。
HDL コードの最後でここに信号を接続すればいい。
<br>

**中間信号（Internal pin?）**
**自分で好きな名前をつけられる**<br>

- 先頭はアルファベット
- ゲートの out=で初めて作られる。

## まとめ文

入力は勝手に増やせない。必要ならゲートで中間出力を作ってそれを入力に使う。中間出力の名前は数字で始まらなければ自由で OK

## 論理ゲートの選択ができない！

- AND ゲートの時：入力が両方 1 の時だけ 1（厳しめ）
- OR ゲートの時：片方でも 1 なら 1
  **両方とも 1 の時は AND と OR どちらも 1 になる**

### 現段階の手順

1. まず真理値表を書く（場合わけがあるかもしれない）
2. 出力条件を式にする
   - Mux の場合
     ```shell
     sel=0 -> out=a
     sel=1 => out=b
     ->これを式に落とし込む
     out = (a AND (NOT sel) OR (b AND sel))
     ```
3. ゲート選び方のコツ
   - **条件付き「〜の時だけ」は AND**<br>
     a AND (NOT sel)→ sel が 0 の時だけ出力が a<br>
     b AND sel → sel が 1 の時だけ b が通る<br>
   - **条件をまとめる、二つをまとめたい「どちらかが成り立てば OK」は OR（ここまだ納得してない。）**<br>
     (a AND (NOT sel)) OR (b AND sel)
   - **逆の条件や 0 を入力したいときは NOT**

### 迷わないためのチェックリスト

1. 真理値表をまず書く
2. 「このときだけ通したい」→ AND
3. 「逆のとき」→ NOT
4. 「2 つをまとめたい」→ OR

## アドバイス

**回路図を描こう**<br>
最初は回路図を書いてそこから HDL に直すと良い。

## 虎の巻

- "A pin name is expected: load ~.hdl"<br>
  ->HDL の文法的な書き方が間違えている
- "comaparison failure line~"<br>
  ->テストが期待している出力と作成した HDL の出力が食い違っている（回路の論理が間違っている）
